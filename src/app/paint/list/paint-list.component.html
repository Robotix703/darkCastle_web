<!--CrÃ©ation instruction-->
<a mat-raised-button color="primary" style="margin: 1rem;" [routerLink]="['/instruction/create', this.figurineID]">Ajouter Instruction</a>

<mat-accordion *ngIf="instructions.length > 0">
  <!--Conteneur des tuiles par figurines-->
  <mat-card *ngFor="let instruc of instructions">
    <!--Header-->
    <mat-card-title>
      {{ instruc.step }} - {{ instruc.name }}
    </mat-card-title>

    <!--Paragraphe-->
    <mat-dialog-content>
      <div>
        {{ instruc.content }}
      </div>

      <div>
        <!--Edition-->
        <a mat-raised-button color="primary" style="margin: 1rem;" [routerLink]="['/instruction/edit', instruc.id]">Edit</a>
        <!--Supression-->
        <button mat-raised-button color="warn" (click)="onDelete(instruc.id)">Delete</button>

        <hr>

        <!--Liste des peintures-->
        <table mat-table [dataSource]="instruc.paintColor" class="mat-elevation-z8">
          <!-- Name Column -->
          <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef> Nom </th>
            <td mat-cell *matCellDef="let element"> {{element.name}} </td>
          </ng-container>

          <!-- Gamme Column -->
          <ng-container matColumnDef="gamme">
            <th mat-header-cell *matHeaderCellDef> Gamme </th>
            <td mat-cell *matCellDef="let element"> {{element.gamme}} </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

          <!--Drawer Column-->
          <ng-container matColumnDef="drawerName">
            <th mat-header-cell *matHeaderCellDef> Tiroir </th>
            <td mat-cell *matCellDef="let element"> {{element.drawerName}} </td>
          </ng-container>

          <!--PositionX Column-->
          <ng-container matColumnDef="positionX">
            <th mat-header-cell *matHeaderCellDef> Position X </th>
            <td mat-cell *matCellDef="let element"> {{element.positionX}} </td>
          </ng-container>

          <!--PositionY Column-->
          <ng-container matColumnDef="positionY">
            <th mat-header-cell *matHeaderCellDef> Position Y </th>
            <td mat-cell *matCellDef="let element"> {{element.positionY}} </td>
          </ng-container>
        </table>
      </div>
    </mat-dialog-content>
  </mat-card>
</mat-accordion>

<p class="info-text mat-body-1" *ngIf="instructions.length == 0">Aucune Instructions</p>
